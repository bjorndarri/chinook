plugins {
    id "org.asciidoctor.jvm.convert" version "3.3.2"
}

asciidoctor {
    // since the sources included in the docs may have changed, there"s definitely
    // a more gradle like way to do this, but it escapes me
    inputs.dir("../chinook-domain-api/src/main/java")
    inputs.dir("../chinook-domain/src/main/java")
    inputs.dir("../chinook-client/src/main/java")
    inputs.dir("../chinook-load-test/src/main/java")
    inputs.dir("../chinook-domain/src/main/resources")
    inputs.dir("../chinook-domain/src/test/java")
    inputs.dir("../chinook-client/src/test/java")

    baseDirFollowsSourceFile()

    asciidoctorj {
        version = "2.5.10"
        attributes "source-highlighter": "prettify"
    }
}